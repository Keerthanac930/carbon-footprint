{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Keert\\\\OneDrive\\\\Desktop\\\\Final Year Project\\\\carbon_project\\\\frontend\\\\src\\\\components\\\\VoiceAssistant.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceAssistantContainer = styled.div`\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  z-index: 1000;\n  \n  @media (max-width: 768px) {\n    bottom: 20px;\n    right: 20px;\n  }\n`;\n_c = VoiceAssistantContainer;\nconst AssistantButton = styled.button`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: none;\n  background: linear-gradient(135deg, #4CAF50, #45a049);\n  color: white;\n  font-size: 2em;\n  cursor: pointer;\n  box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  \n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 12px 35px rgba(76, 175, 80, 0.6);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &.listening {\n    background: linear-gradient(135deg, #f44336, #d32f2f);\n    animation: pulse 1.5s infinite;\n  }\n  \n  @keyframes pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    100% { transform: scale(1); }\n  }\n  \n  @media (max-width: 768px) {\n    width: 60px;\n    height: 60px;\n    font-size: 1.5em;\n  }\n`;\n_c2 = AssistantButton;\nconst AssistantPopup = styled.div`\n  position: absolute;\n  bottom: 100px;\n  right: 0;\n  width: 300px;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));\n  border-radius: 20px;\n  padding: 20px;\n  box-shadow: 0 15px 40px rgba(0,0,0,0.2);\n  border: 1px solid rgba(76, 175, 80, 0.3);\n  backdrop-filter: blur(15px);\n  transform: ${props => props.isOpen ? 'translateY(0) scale(1)' : 'translateY(20px) scale(0.9)'};\n  opacity: ${props => props.isOpen ? 1 : 0};\n  transition: all 0.3s ease;\n  pointer-events: ${props => props.isOpen ? 'auto' : 'none'};\n  \n  @media (max-width: 768px) {\n    width: 250px;\n    right: -50px;\n  }\n`;\n_c3 = AssistantPopup;\nconst AssistantHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 15px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid rgba(76, 175, 80, 0.2);\n`;\n_c4 = AssistantHeader;\nconst AssistantAvatar = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #4CAF50, #45a049);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 1.2em;\n  font-weight: bold;\n`;\n_c5 = AssistantAvatar;\nconst AssistantName = styled.div`\n  font-weight: 600;\n  color: #2E8B57;\n  font-size: 1.1em;\n`;\n_c6 = AssistantName;\nconst AssistantMessage = styled.div`\n  color: #555;\n  line-height: 1.6;\n  margin-bottom: 15px;\n  font-size: 0.95em;\n`;\n_c7 = AssistantMessage;\nconst AssistantControls = styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n`;\n_c8 = AssistantControls;\nconst ControlButton = styled.button`\n  background: ${props => props.primary ? 'linear-gradient(135deg, #4CAF50, #45a049)' : 'transparent'};\n  color: ${props => props.primary ? 'white' : '#4CAF50'};\n  border: 2px solid #4CAF50;\n  padding: 8px 16px;\n  border-radius: 20px;\n  cursor: pointer;\n  font-size: 0.9em;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.primary ? 'linear-gradient(135deg, #45a049, #4CAF50)' : '#4CAF50'};\n    color: white;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c9 = ControlButton;\nconst StatusIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-size: 0.8em;\n  color: #666;\n  \n  .status-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: ${props => props.status === 'listening' ? '#f44336' : props.status === 'speaking' ? '#ff9800' : '#4CAF50'};\n    animation: ${props => props.status === 'listening' ? 'pulse 1s infinite' : 'none'};\n  }\n`;\n_c0 = StatusIndicator;\nconst VoiceAssistant = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [message, setMessage] = useState(\"Hi I'm your carbon footprint assistant! Click the speaker icon to hear me speak.\");\n  const [status, setStatus] = useState('ready');\n  const recognitionRef = useRef(null);\n  const synthRef = useRef(null);\n  useEffect(() => {\n    // Initialize speech synthesis\n    if ('speechSynthesis' in window) {\n      synthRef.current = window.speechSynthesis;\n    }\n\n    // Initialize speech recognition\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = false;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onstart = () => {\n        setIsListening(true);\n        setStatus('listening');\n        setMessage(\"I'm listening... Please speak now.\");\n      };\n      recognitionRef.current.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setMessage(`You said: \"${transcript}\"`);\n        handleVoiceCommand(transcript);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setMessage(\"Sorry, I didn't catch that. Please try again.\");\n        setIsListening(false);\n        setStatus('ready');\n      };\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n        setStatus('ready');\n      };\n    }\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n    };\n  }, []);\n  const handleVoiceCommand = command => {\n    const lowerCommand = command.toLowerCase();\n    if (lowerCommand.includes('calculate') || lowerCommand.includes('footprint')) {\n      setMessage(\"Great! Let's calculate your carbon footprint. I'll take you to the calculator.\");\n      speak(\"Great! Let's calculate your carbon footprint. I'll take you to the calculator.\");\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 2000);\n    } else if (lowerCommand.includes('results') || lowerCommand.includes('view results')) {\n      setMessage(\"I'll show you your carbon footprint results.\");\n      speak(\"I'll show you your carbon footprint results.\");\n      setTimeout(() => {\n        window.location.href = '/results';\n      }, 2000);\n    } else if (lowerCommand.includes('digital twin') || lowerCommand.includes('twin')) {\n      setMessage(\"Let me show you your digital twin dashboard.\");\n      speak(\"Let me show you your digital twin dashboard.\");\n      setTimeout(() => {\n        window.location.href = '/digital-twin';\n      }, 2000);\n    } else if (lowerCommand.includes('help') || lowerCommand.includes('what can you do')) {\n      setMessage(\"I can help you calculate your carbon footprint, view results, explore your digital twin, and provide recommendations. Just ask me!\");\n      speak(\"I can help you calculate your carbon footprint, view results, explore your digital twin, and provide recommendations. Just ask me!\");\n    } else {\n      setMessage(\"I understand you said: '\" + command + \"'. I can help with carbon footprint calculations, results, and digital twin features. Try saying 'calculate footprint' or 'view results'.\");\n      speak(\"I understand you said: '\" + command + \"'. I can help with carbon footprint calculations, results, and digital twin features. Try saying 'calculate footprint' or 'view results'.\");\n    }\n  };\n  const speak = text => {\n    if (synthRef.current) {\n      setIsSpeaking(true);\n      setStatus('speaking');\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1.1;\n      utterance.volume = 0.8;\n\n      // Try to use American accent\n      const voices = synthRef.current.getVoices();\n      const americanVoice = voices.find(voice => voice.lang.includes('en-US') && (voice.name.includes('American') || voice.name.includes('US')));\n      if (americanVoice) {\n        utterance.voice = americanVoice;\n      }\n      utterance.onend = () => {\n        setIsSpeaking(false);\n        setStatus('ready');\n      };\n      utterance.onerror = () => {\n        setIsSpeaking(false);\n        setStatus('ready');\n      };\n      synthRef.current.speak(utterance);\n    }\n  };\n  const startListening = () => {\n    if (recognitionRef.current && !isListening) {\n      recognitionRef.current.start();\n    }\n  };\n  const stopListening = () => {\n    if (recognitionRef.current && isListening) {\n      recognitionRef.current.stop();\n    }\n  };\n  const handleSpeak = () => {\n    if (!isSpeaking) {\n      speak(message);\n    } else {\n      synthRef.current.cancel();\n      setIsSpeaking(false);\n      setStatus('ready');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(VoiceAssistantContainer, {\n    children: [/*#__PURE__*/_jsxDEV(AssistantButton, {\n      onClick: () => setIsOpen(!isOpen),\n      className: isListening ? 'listening' : '',\n      title: \"Carbon Footprint Assistant\",\n      children: \"\\uD83C\\uDF31\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AssistantPopup, {\n      isOpen: isOpen,\n      children: [/*#__PURE__*/_jsxDEV(AssistantHeader, {\n        children: [/*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          children: \"\\uD83C\\uDF31\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AssistantName, {\n          children: \"Carbon Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AssistantMessage, {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AssistantControls, {\n        children: [/*#__PURE__*/_jsxDEV(ControlButton, {\n          onClick: handleSpeak,\n          disabled: isListening || isSpeaking,\n          primary: true,\n          children: isSpeaking ? '🔇 Stop' : '🔊 Speak'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n          onClick: isListening ? stopListening : startListening,\n          disabled: isSpeaking,\n          children: isListening ? '🛑 Stop' : '🎤 Listen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatusIndicator, {\n        status: status,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), status === 'listening' ? 'Listening...' : status === 'speaking' ? 'Speaking...' : 'Ready']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceAssistant, \"rzx1vh48Bl8pVw4rbQeehQ2M7wI=\");\n_c1 = VoiceAssistant;\nexport default VoiceAssistant;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"VoiceAssistantContainer\");\n$RefreshReg$(_c2, \"AssistantButton\");\n$RefreshReg$(_c3, \"AssistantPopup\");\n$RefreshReg$(_c4, \"AssistantHeader\");\n$RefreshReg$(_c5, \"AssistantAvatar\");\n$RefreshReg$(_c6, \"AssistantName\");\n$RefreshReg$(_c7, \"AssistantMessage\");\n$RefreshReg$(_c8, \"AssistantControls\");\n$RefreshReg$(_c9, \"ControlButton\");\n$RefreshReg$(_c0, \"StatusIndicator\");\n$RefreshReg$(_c1, \"VoiceAssistant\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","jsxDEV","_jsxDEV","VoiceAssistantContainer","div","_c","AssistantButton","button","_c2","AssistantPopup","props","isOpen","_c3","AssistantHeader","_c4","AssistantAvatar","_c5","AssistantName","_c6","AssistantMessage","_c7","AssistantControls","_c8","ControlButton","primary","_c9","StatusIndicator","status","_c0","VoiceAssistant","_s","setIsOpen","isListening","setIsListening","isSpeaking","setIsSpeaking","message","setMessage","setStatus","recognitionRef","synthRef","window","current","speechSynthesis","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","handleVoiceCommand","onerror","console","error","onend","stop","command","lowerCommand","toLowerCase","includes","speak","setTimeout","location","href","text","utterance","SpeechSynthesisUtterance","rate","pitch","volume","voices","getVoices","americanVoice","find","voice","name","startListening","start","stopListening","handleSpeak","cancel","children","onClick","className","title","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c1","$RefreshReg$"],"sources":["C:/Users/Keert/OneDrive/Desktop/Final Year Project/carbon_project/frontend/src/components/VoiceAssistant.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst VoiceAssistantContainer = styled.div`\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 30px;\r\n  z-index: 1000;\r\n  \r\n  @media (max-width: 768px) {\r\n    bottom: 20px;\r\n    right: 20px;\r\n  }\r\n`;\r\n\r\nconst AssistantButton = styled.button`\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  background: linear-gradient(135deg, #4CAF50, #45a049);\r\n  color: white;\r\n  font-size: 2em;\r\n  cursor: pointer;\r\n  box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  &:hover {\r\n    transform: scale(1.1);\r\n    box-shadow: 0 12px 35px rgba(76, 175, 80, 0.6);\r\n  }\r\n  \r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n  \r\n  &.listening {\r\n    background: linear-gradient(135deg, #f44336, #d32f2f);\r\n    animation: pulse 1.5s infinite;\r\n  }\r\n  \r\n  @keyframes pulse {\r\n    0% { transform: scale(1); }\r\n    50% { transform: scale(1.1); }\r\n    100% { transform: scale(1); }\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 60px;\r\n    height: 60px;\r\n    font-size: 1.5em;\r\n  }\r\n`;\r\n\r\nconst AssistantPopup = styled.div`\r\n  position: absolute;\r\n  bottom: 100px;\r\n  right: 0;\r\n  width: 300px;\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  box-shadow: 0 15px 40px rgba(0,0,0,0.2);\r\n  border: 1px solid rgba(76, 175, 80, 0.3);\r\n  backdrop-filter: blur(15px);\r\n  transform: ${props => props.isOpen ? 'translateY(0) scale(1)' : 'translateY(20px) scale(0.9)'};\r\n  opacity: ${props => props.isOpen ? 1 : 0};\r\n  transition: all 0.3s ease;\r\n  pointer-events: ${props => props.isOpen ? 'auto' : 'none'};\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 250px;\r\n    right: -50px;\r\n  }\r\n`;\r\n\r\nconst AssistantHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid rgba(76, 175, 80, 0.2);\r\n`;\r\n\r\nconst AssistantAvatar = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #4CAF50, #45a049);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst AssistantName = styled.div`\r\n  font-weight: 600;\r\n  color: #2E8B57;\r\n  font-size: 1.1em;\r\n`;\r\n\r\nconst AssistantMessage = styled.div`\r\n  color: #555;\r\n  line-height: 1.6;\r\n  margin-bottom: 15px;\r\n  font-size: 0.95em;\r\n`;\r\n\r\nconst AssistantControls = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  background: ${props => props.primary ? 'linear-gradient(135deg, #4CAF50, #45a049)' : 'transparent'};\r\n  color: ${props => props.primary ? 'white' : '#4CAF50'};\r\n  border: 2px solid #4CAF50;\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  font-size: 0.9em;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.primary ? 'linear-gradient(135deg, #45a049, #4CAF50)' : '#4CAF50'};\r\n    color: white;\r\n    transform: translateY(-2px);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst StatusIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 0.8em;\r\n  color: #666;\r\n  \r\n  .status-dot {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background: ${props => props.status === 'listening' ? '#f44336' : props.status === 'speaking' ? '#ff9800' : '#4CAF50'};\r\n    animation: ${props => props.status === 'listening' ? 'pulse 1s infinite' : 'none'};\r\n  }\r\n`;\r\n\r\nconst VoiceAssistant = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [message, setMessage] = useState(\"Hi I'm your carbon footprint assistant! Click the speaker icon to hear me speak.\");\r\n  const [status, setStatus] = useState('ready');\r\n  const recognitionRef = useRef(null);\r\n  const synthRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize speech synthesis\r\n    if ('speechSynthesis' in window) {\r\n      synthRef.current = window.speechSynthesis;\r\n    }\r\n\r\n    // Initialize speech recognition\r\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      recognitionRef.current = new SpeechRecognition();\r\n      recognitionRef.current.continuous = false;\r\n      recognitionRef.current.interimResults = false;\r\n      recognitionRef.current.lang = 'en-US';\r\n\r\n      recognitionRef.current.onstart = () => {\r\n        setIsListening(true);\r\n        setStatus('listening');\r\n        setMessage(\"I'm listening... Please speak now.\");\r\n      };\r\n\r\n      recognitionRef.current.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        setMessage(`You said: \"${transcript}\"`);\r\n        handleVoiceCommand(transcript);\r\n      };\r\n\r\n      recognitionRef.current.onerror = (event) => {\r\n        console.error('Speech recognition error:', event.error);\r\n        setMessage(\"Sorry, I didn't catch that. Please try again.\");\r\n        setIsListening(false);\r\n        setStatus('ready');\r\n      };\r\n\r\n      recognitionRef.current.onend = () => {\r\n        setIsListening(false);\r\n        setStatus('ready');\r\n      };\r\n    }\r\n\r\n    return () => {\r\n      if (recognitionRef.current) {\r\n        recognitionRef.current.stop();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleVoiceCommand = (command) => {\r\n    const lowerCommand = command.toLowerCase();\r\n    \r\n    if (lowerCommand.includes('calculate') || lowerCommand.includes('footprint')) {\r\n      setMessage(\"Great! Let's calculate your carbon footprint. I'll take you to the calculator.\");\r\n      speak(\"Great! Let's calculate your carbon footprint. I'll take you to the calculator.\");\r\n      setTimeout(() => {\r\n        window.location.href = '/';\r\n      }, 2000);\r\n    } else if (lowerCommand.includes('results') || lowerCommand.includes('view results')) {\r\n      setMessage(\"I'll show you your carbon footprint results.\");\r\n      speak(\"I'll show you your carbon footprint results.\");\r\n      setTimeout(() => {\r\n        window.location.href = '/results';\r\n      }, 2000);\r\n    } else if (lowerCommand.includes('digital twin') || lowerCommand.includes('twin')) {\r\n      setMessage(\"Let me show you your digital twin dashboard.\");\r\n      speak(\"Let me show you your digital twin dashboard.\");\r\n      setTimeout(() => {\r\n        window.location.href = '/digital-twin';\r\n      }, 2000);\r\n    } else if (lowerCommand.includes('help') || lowerCommand.includes('what can you do')) {\r\n      setMessage(\"I can help you calculate your carbon footprint, view results, explore your digital twin, and provide recommendations. Just ask me!\");\r\n      speak(\"I can help you calculate your carbon footprint, view results, explore your digital twin, and provide recommendations. Just ask me!\");\r\n    } else {\r\n      setMessage(\"I understand you said: '\" + command + \"'. I can help with carbon footprint calculations, results, and digital twin features. Try saying 'calculate footprint' or 'view results'.\");\r\n      speak(\"I understand you said: '\" + command + \"'. I can help with carbon footprint calculations, results, and digital twin features. Try saying 'calculate footprint' or 'view results'.\");\r\n    }\r\n  };\r\n\r\n  const speak = (text) => {\r\n    if (synthRef.current) {\r\n      setIsSpeaking(true);\r\n      setStatus('speaking');\r\n      \r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.rate = 0.9;\r\n      utterance.pitch = 1.1;\r\n      utterance.volume = 0.8;\r\n      \r\n      // Try to use American accent\r\n      const voices = synthRef.current.getVoices();\r\n      const americanVoice = voices.find(voice => \r\n        voice.lang.includes('en-US') && \r\n        (voice.name.includes('American') || voice.name.includes('US'))\r\n      );\r\n      \r\n      if (americanVoice) {\r\n        utterance.voice = americanVoice;\r\n      }\r\n      \r\n      utterance.onend = () => {\r\n        setIsSpeaking(false);\r\n        setStatus('ready');\r\n      };\r\n      \r\n      utterance.onerror = () => {\r\n        setIsSpeaking(false);\r\n        setStatus('ready');\r\n      };\r\n      \r\n      synthRef.current.speak(utterance);\r\n    }\r\n  };\r\n\r\n  const startListening = () => {\r\n    if (recognitionRef.current && !isListening) {\r\n      recognitionRef.current.start();\r\n    }\r\n  };\r\n\r\n  const stopListening = () => {\r\n    if (recognitionRef.current && isListening) {\r\n      recognitionRef.current.stop();\r\n    }\r\n  };\r\n\r\n  const handleSpeak = () => {\r\n    if (!isSpeaking) {\r\n      speak(message);\r\n    } else {\r\n      synthRef.current.cancel();\r\n      setIsSpeaking(false);\r\n      setStatus('ready');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VoiceAssistantContainer>\r\n      <AssistantButton\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className={isListening ? 'listening' : ''}\r\n        title=\"Carbon Footprint Assistant\"\r\n      >\r\n        🌱\r\n      </AssistantButton>\r\n      \r\n      <AssistantPopup isOpen={isOpen}>\r\n        <AssistantHeader>\r\n          <AssistantAvatar>🌱</AssistantAvatar>\r\n          <AssistantName>Carbon Assistant</AssistantName>\r\n        </AssistantHeader>\r\n        \r\n        <AssistantMessage>\r\n          {message}\r\n        </AssistantMessage>\r\n        \r\n        <AssistantControls>\r\n          <ControlButton\r\n            onClick={handleSpeak}\r\n            disabled={isListening || isSpeaking}\r\n            primary\r\n          >\r\n            {isSpeaking ? '🔇 Stop' : '🔊 Speak'}\r\n          </ControlButton>\r\n          \r\n          <ControlButton\r\n            onClick={isListening ? stopListening : startListening}\r\n            disabled={isSpeaking}\r\n          >\r\n            {isListening ? '🛑 Stop' : '🎤 Listen'}\r\n          </ControlButton>\r\n        </AssistantControls>\r\n        \r\n        <StatusIndicator status={status}>\r\n          <div className=\"status-dot\"></div>\r\n          {status === 'listening' ? 'Listening...' : \r\n           status === 'speaking' ? 'Speaking...' : 'Ready'}\r\n        </StatusIndicator>\r\n      </AssistantPopup>\r\n    </VoiceAssistantContainer>\r\n  );\r\n};\r\n\r\nexport default VoiceAssistant;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,uBAAuB,GAAGH,MAAM,CAACI,GAAG;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAVIF,uBAAuB;AAY7B,MAAMG,eAAe,GAAGN,MAAM,CAACO,MAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAvCIF,eAAe;AAyCrB,MAAMG,cAAc,GAAGT,MAAM,CAACI,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeM,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,wBAAwB,GAAG,6BAA6B;AAC/F,aAAaD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,GAAG,CAAC;AAC1C;AACA,oBAAoBD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,MAAM,GAAG,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GApBIH,cAAc;AAsBpB,MAAMI,eAAe,GAAGb,MAAM,CAACI,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAPID,eAAe;AASrB,MAAME,eAAe,GAAGf,MAAM,CAACI,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,GAAA,GAXID,eAAe;AAarB,MAAME,aAAa,GAAGjB,MAAM,CAACI,GAAG;AAChC;AACA;AACA;AACA,CAAC;AAACc,GAAA,GAJID,aAAa;AAMnB,MAAME,gBAAgB,GAAGnB,MAAM,CAACI,GAAG;AACnC;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}